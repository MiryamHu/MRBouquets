<ng-container *ngIf="pedido">
    <mat-card class="detalle-card">
        <mat-card-header>
            <button mat-icon-button (click)="volver()">
            <mat-icon>arrow_back</mat-icon>
            </button>
            <mat-card-title>Pedido #{{ pedido.id }}</mat-card-title>
            <mat-card-subtitle>Cliente: {{ pedido.nombre_completo }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
            <p><strong>Fecha:</strong> {{ pedido.fecha_pedido }}</p>
            <p><strong>Estado:</strong> {{ pedido.estado }}</p>
            <p><strong>Total:</strong> {{ pedido.precio_total}} €</p>

            <table mat-table [dataSource]="items" class="mat-elevation-z8 detalle-table">

            <!-- Nombre Column -->
            <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef>Producto</th>
                <td mat-cell *matCellDef="let item">{{ item.nombre }}</td>
            </ng-container>

            <!-- Cantidad Column -->
            <ng-container matColumnDef="cantidad">
                <th mat-header-cell *matHeaderCellDef>Cant.</th>
                <td mat-cell *matCellDef="let item">{{ item.cantidad }}</td>
            </ng-container>

            <!-- Precio Unitario Column -->
            <ng-container matColumnDef="precioUnitario">
                <th mat-header-cell *matHeaderCellDef>Precio U.</th>
                <td mat-cell *matCellDef="let item">{{ item.precioUnitario | number:'1.2-2' }} €</td>
            </ng-container>

            <!-- Subtotal Column -->
            <ng-container matColumnDef="subtotal">
                <th mat-header-cell *matHeaderCellDef>Subtotal</th>
                <td mat-cell *matCellDef="let item">{{ item.subtotal | number:'1.2-2' }} €</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row        *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </mat-card-content>
    </mat-card>


</ng-container>